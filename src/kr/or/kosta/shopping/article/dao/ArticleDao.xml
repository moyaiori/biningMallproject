<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
                        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 네임스페이스(사용영역) 설정 -->
<mapper namespace="kr.or.kosta.shopping.article.dao.ArticleDao">

		
	<!-- 게시글 등록 boardId: 1 - 공지 , 2 QnA-->
	<insert id="insert" parameterType="kr.or.kosta.shopping.article.domain.Article">
		INSERT INTO article(article_id, board_id, member_id, subject, content,group_num,step_num, order_num)
		VALUES(article_id_seq.NEXTVAL,  #{boardId},  #{memberId}, #{subject}, #{content},article_id_seq.CURRVAL,0, 0)
	</insert>
	
	<!-- 게시글 댓글시 orderNuM 수정-->	       
<!--      <update id="updateOrderNum" parameterType="kr.or.kosta.shopping.article.domain.Article">
		UPDATE article  SET order_num = order_num+1  WHERE board_id = 1 
		AND group_num = #{groupNum} AND order_num >= (   SELECT MIN(order_num) 
        FROM article 
     	WHERE group_num =#{groupNum} AND order_num > #{orderNum} AND step_num <= #{stepNum}; 
	</update>       
	      
                 
    게시글 읽기               
	<select id="select" resultMap="employeeResult">
		SELECT article_id, subject, content, member_id, regdate,  hitcount, group_num, step_num, order_num  
					 FROM article 
					 WHERE board_id = 1 and article_id = #{articleId}
	</select> -->
	
	
</mapper>